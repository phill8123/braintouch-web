import React, { useState } from 'react';
import { 
  BarChart, Bar, XAxis, YAxis, Tooltip, ResponsiveContainer, Cell, LabelList
} from 'recharts';
import { 
  AlertCircle, 
  Cpu, 
  TrendingUp, 
  Target, 
  ChevronRight,
  BarChart3,
  Quote, 
  ShieldCheck,
  Navigation,
  Radar,
  Info,
  Layers,
  GraduationCap,
  Database,
  Search
} from 'lucide-react';

const App = () => {
  // 디자인 토큰 및 테마 색상
  const theme = {
    dark: '#064e3b',         // 중등 A등급 (짙은 녹색)
    highSchool12: '#1e3a8a',  // 고교 1-2등급 (짙은 파랑)
    highSchool34: '#2563eb',  // 고교 3-4등급 (중간 파랑)
    highSchoolOther: '#60a5fa', // 그 외 (연한 파랑)
    primary: '#059669', 
    medium: '#10b981',  
    light: '#d1fae5',   
    accent: '#facc15',  
    slate: '#f8fafc'
  };

  // 그래프 데이터
  const gradeData = [
    { name: '중등 A등급', value: 100, color: theme.dark },
    { name: '고교 1-2등급', value: 11, color: theme.highSchool12 },
    { name: '고교 3-4등급', value: 29, color: theme.highSchool34 },
    { name: '그 외', value: 60, color: theme.highSchoolOther },
  ];

  // 네이버 폼 링크 이동
  const handleApplyClick = () => {
    window.open("https://naver.me/FCrCM5lh", '_blank');
  };

  const BrainTouchLogo = ({ isLight = false }) => (
    <div className="flex items-center gap-5 text-left group">
      <div className="relative flex-shrink-0">
        <div className={`w-16 h-16 rounded-2xl flex items-center justify-center shadow-2xl transition-all duration-500 transform group-hover:rotate-[360deg] ${isLight ? 'bg-white' : 'bg-emerald-600'}`}>
          <svg width="42" height="42" viewBox="0 0 24 24" fill="none" stroke={isLight ? theme.primary : '#ffffff'} strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
            <path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z" />
            <circle cx="12" cy="10" r="3" fill={theme.accent} className="animate-pulse" />
            <path d="M12 7v1" opacity="0.6" />
            <path d="M12 12v1" opacity="0.6" />
            <path d="M9 10h1" opacity="0.6" />
            <path d="M14 10h1" opacity="0.6" />
          </svg>
        </div>
      </div>
      <div className="flex flex-col justify-center min-w-0">
        <h2 className={`text-2xl md:text-3xl font-black tracking-tighter leading-none ${isLight ? 'text-white' : 'text-emerald-900'}`}>
          BRAIN <span className={isLight ? 'text-emerald-400' : 'text-emerald-600'}>TOUCH</span>
        </h2>
        <span className={`text-[10px] md:text-xs font-bold tracking-[0.3em] mt-2 uppercase whitespace-nowrap ${isLight ? 'text-emerald-500/80' : 'text-emerald-700/80'}`}>
          GPS Education System
        </span>
      </div>
    </div>
  );

  return (
    <div className="min-h-screen bg-white font-sans text-slate-900 overflow-x-hidden break-keep leading-relaxed pb-20 selection:bg-emerald-100">
      {/* 1. Hero Section */}
      <section className="relative bg-emerald-950 py-32 px-6 overflow-hidden">
        <div className="absolute top-0 left-0 w-full h-full opacity-20 pointer-events-none">
          <div className="absolute top-[-10%] left-[-5%] w-[40%] h-[40%] bg-emerald-400 rounded-full filter blur-[120px]"></div>
          <div className="absolute bottom-[-10%] right-[-5%] w-[50%] h-[50%] bg-lime-400 rounded-full filter blur-[120px]"></div>
        </div>
        <div className="max-w-5xl mx-auto relative z-10 text-center">
          <div className="mb-20 flex justify-center"><BrainTouchLogo isLight={true} /></div>
          <div className="inline-flex items-center gap-2 px-6 py-2 bg-emerald-500/20 border border-emerald-500/30 rounded-full text-emerald-300 text-sm font-bold mb-12 tracking-widest uppercase">
            AI-Powered GPS Navigation
          </div>
          <h1 className="text-4xl md:text-7xl font-black text-white mb-10 leading-tight">
            우리 아이 중학교 'A',<br/>
            <span className="text-emerald-400 italic font-black">진짜 실력</span>일까요?
          </h1>
          <p className="text-xl md:text-2xl text-emerald-100/70 max-w-3xl mx-auto mb-16 leading-relaxed font-medium">
            안개 낀 운동장에서 헤매고 있지는 않나요?<br/>
            브레인 터치가 안개를 걷어내고 <span className="text-white border-b-2 border-emerald-500">나의 진짜 위치</span>를 추적합니다.
          </p>
        </div>
      </section>

      {/* 2. Problem Section */}
      <section className="py-28 px-6 bg-white border-b border-slate-100">
        <div className="max-w-6xl mx-auto">
          <div className="grid grid-cols-1 lg:grid-cols-2 gap-20 items-center">
            <div className="space-y-12">
              <h2 className="text-3xl md:text-4xl font-black text-emerald-900 leading-tight">
                중학교 성취도 'A'의 <br/>
                <span className="text-emerald-500 italic underline decoration-emerald-100 underline-offset-8 font-black">치명적인 착시 현상</span>
              </h2>
              <ul className="space-y-8">
                {[
                  { IconComp: GraduationCap, title: "안개 낀 운동장", desc: "중학교는 절대평가제입니다. 90점만 넘으면 모두 A를 받기에 변별력이 매우 낮습니다." },
                  { IconComp: Layers, title: "부풀려진 성적", desc: "후한 수행평가 점수로 지필고사의 부족함이 가려져 진짜 실력을 오인하기 쉽습니다." },
                  { IconComp: TrendingUp, title: "냉정한 현실", desc: "중학교 전 과목 A 학생이 고등학교 진입 시 3~4등급까지 하락하는 사례가 빈번합니다." }
                ].map((item, idx) => (
                  <li key={idx} className="flex gap-6 p-8 rounded-3xl bg-slate-50 border border-slate-100 hover:border-emerald-300 transition-all group">
                    <div className="w-14 h-14 shrink-0 rounded-2xl bg-white shadow-md flex items-center justify-center text-emerald-600 group-hover:bg-emerald-600 group-hover:text-white transition-all">
                      <item.IconComp size={28} />
                    </div>
                    <div>
                      <h4 className="font-bold text-2xl mb-2 text-emerald-950">{item.title}</h4>
                      <p className="text-slate-500 text-lg leading-relaxed">{item.desc}</p>
                    </div>
                  </li>
                ))}
              </ul>
            </div>
            <div className="bg-emerald-50 p-10 rounded-[4rem] border-2 border-emerald-100 shadow-xl relative">
              <div className="absolute -top-6 -right-6 bg-white p-4 rounded-3xl shadow-lg border border-emerald-100">
                <Info size={32} className="text-emerald-600" />
              </div>
              <h4 className="text-center font-black text-emerald-800 mb-10 uppercase tracking-widest text-sm">중등 A등급의 고교 성적 변환 예측 (9등급제)</h4>
              <div className="h-80">
                <ResponsiveContainer width="100%" height="100%">
                  <BarChart data={gradeData} layout="vertical" margin={{ left: 20, right: 60 }}>
                    <XAxis type="number" hide />
                    <YAxis dataKey="name" type="category" tick={{fontSize: 14, fontWeight: 'black', fill: theme.dark}} width={100} />
                    <Bar dataKey="value" radius={[0, 8, 8, 0]} barSize={40}>
                      <LabelList dataKey="value" position="right" formatter={(v) => `${v}%`} style={{ fontWeight: '900', fill: '#064e3b', fontSize: '16px' }} offset={15} />
                      {gradeData.map((entry, index) => (
                        <Cell key={`cell-${index}`} fill={entry.color} />
                      ))}
                    </Bar>
                  </BarChart>
                </ResponsiveContainer>
              </div>
              <div className="mt-10 bg-white p-8 rounded-3xl shadow-sm border border-emerald-100 text-center">
                <p className="text-slate-600 text-lg leading-relaxed italic">
                  "모두가 1등처럼 보이는 안개 속에서,<br/> <strong>브레인 터치</strong>만이 추정등급을 예측합니다."
                </p>
              </div>
            </div>
          </div>
        </div>
      </section>

      {/* 3. Core Tech Section */}
      <section id="ai-section" className="py-28 px-6 bg-slate-50">
        <div className="max-w-6xl mx-auto">
          <div className="text-center mb-20">
            <h2 className="text-4xl md:text-6xl font-black text-emerald-950 mb-8 italic underline underline-offset-[16px] decoration-emerald-500/30">
              The AI Precision Engine
            </h2>
            <p className="text-slate-500 text-2xl font-medium">단순 점수가 아닌, <strong className="text-emerald-700 underline decoration-emerald-200">공식 데이터</strong>로 입증하는 객관적 정확도</p>
          </div>

          <div className="grid grid-cols-1 md:grid-cols-2 gap-8 lg:gap-12 items-stretch">
            {[
              { 
                title: "Z-점수(표준점수) 기반 분석", 
                desc: "단순히 점수만 보는 것이 아니라 원점수, 평균, 표준편차를 수식에 대입하여 전교 석차와 지역 내 실질 백분위를 산출하여 중학교 성적의 거품을 완벽하게 제거합니다.", 
                IconComp: Target,
                bgColor: 'bg-emerald-50',
                borderColor: 'border-emerald-200',
                iconColor: 'text-emerald-600'
              },
              { 
                title: "3개년 누적 백데이터", 
                desc: "지원 희망 고교 선배들의 3년 치 실제 성적 데이터를 바탕으로 계산하여 고교 진학 후 예상 내신 등급의 적중률을 극대화하고 실질적인 성공 트랙을 제시합니다.", 
                IconComp: Database,
                bgColor: 'bg-blue-50',
                borderColor: 'border-blue-200',
                iconColor: 'text-blue-600'
              },
              { 
                title: "공식 데이터 활용", 
                desc: "'학교알리미'에 공시된 전국의 모든 중·고교 공식 성적 데이터를 실시간으로 반영하여 주관적인 판단이 아닌 철저히 객관적인 통계에 기반한 분석을 보장합니다.", 
                IconComp: Search,
                bgColor: 'bg-indigo-50',
                borderColor: 'border-indigo-200',
                iconColor: 'text-indigo-600'
              },
              { 
                title: "AI 분석 알고리즘", 
                desc: "30년 이상의 풍부한 입시 경력과 정밀한 AI 분석 알고리즘이 결합되어 학생의 성적 패턴에 따른 독보적인 입시 솔루션과 변화하는 입시 환경에 최적화된 가이드를 제공합니다.", 
                IconComp: Cpu,
                bgColor: 'bg-teal-50',
                borderColor: 'border-teal-200',
                iconColor: 'text-teal-600'
              }
            ].map((tech, idx) => (
              <div key={idx} className={`p-10 ${tech.bgColor} rounded-[3rem] border-2 ${tech.borderColor} shadow-sm hover:shadow-xl hover:translate-y-[-5px] transition-all duration-300 group`}>
                <div className={`${tech.iconColor} mb-6 group-hover:scale-110 transition-transform`}><tech.IconComp size={48} /></div>
                <h4 className="font-black text-2xl text-emerald-950 mb-6">{tech.title}</h4>
                <p className="text-lg text-slate-700 leading-relaxed font-medium">{tech.desc}</p>
              </div>
            ))}
          </div>
        </div>
      </section>

      {/* 4. Why Section */}
      <section className="py-28 px-6 bg-white">
        <div className="max-w-6xl mx-auto text-center">
          <div className="inline-block px-5 py-2 bg-slate-100 rounded-2xl text-slate-500 font-black text-sm mb-8 uppercase tracking-widest">Trust & Precision</div>
          <h2 className="text-3xl md:text-5xl font-black text-emerald-950 mb-20 leading-tight">
            왜 <span className="text-emerald-500 underline underline-offset-8 decoration-emerald-100">브레인 터치</span>를 신뢰하는가?
          </h2>
          <div className="grid grid-cols-1 md:grid-cols-3 gap-12">
            {[
              { title: "다수의 누적 데이터", desc: "다수 학생 데이터가 증명하는 예측 알고리즘", IconComp: ShieldCheck },
              { title: "대학식 정량 평가", desc: "연세대, 서울시립대 등 상위권 대학의 입시 평가 방식 적용", IconComp: Target },
              { title: "30년 입시 전문성", desc: "전문적인 입시 노하우와 AI 기술이 결합된 독보적 솔루션", IconComp: Cpu }
            ].map((item, idx) => (
              <div key={idx} className="group p-12 rounded-[3.5rem] bg-slate-50 border-2 border-transparent hover:border-emerald-500 hover:bg-white transition-all duration-500">
                <div className="w-20 h-20 rounded-3xl bg-white shadow-lg flex items-center justify-center text-emerald-600 mx-auto mb-10 group-hover:bg-emerald-600 group-hover:text-white group-hover:translate-y-[-5px] transition-all">
                  <item.IconComp size={40} />
                </div>
                <h4 className="text-2xl font-black text-emerald-950 mb-6">{item.title}</h4>
                <p className="text-slate-500 text-lg leading-relaxed font-medium">{item.desc}</p>
              </div>
            ))}
          </div>
        </div>
      </section>

      {/* 5. Final CTA */}
      <section className="py-28 px-6 relative">
        <div className="max-w-5xl mx-auto">
          <div className="bg-emerald-950 rounded-[5rem] p-12 md:p-24 text-white text-center shadow-2xl relative overflow-hidden border-2 border-emerald-800">
            {/* High-tech background pattern */}
            <div className="absolute inset-0 opacity-5 pointer-events-none">
              <div className="absolute top-0 left-0 w-full h-full bg-[radial-gradient(circle_at_center,_#10b981_1px,_transparent_1px)] bg-[size:50px_50px]"></div>
            </div>

            <div className="relative z-10 max-w-4xl mx-auto">
              <h2 className="text-3xl md:text-6xl font-black mb-16 leading-snug">
                성적표의 <span className="text-emerald-400 italic">안개</span>를 걷어내고<br/>
                실전 트랙의 <span className="text-emerald-400 italic font-black">나의 진짜 위치</span>를 확인하십시오.
              </h2>
              
              <div className="grid grid-cols-1 md:grid-cols-2 gap-8 mb-20">
                 <div className="flex gap-6 items-start p-8 bg-white/5 border border-white/10 rounded-3xl text-left">
                   <Navigation className="text-yellow-400 shrink-0" size={36} />
                   <p className="text-emerald-50/90 leading-relaxed font-medium text-lg">
                     중학교 성적표가 모두 1등처럼 보이는 **'안개 낀 운동장'**이라면, 브레인 터치는 그 안개를 걷어내는 **'고성능 GPS'**입니다.
                   </p>
                 </div>
                 <div className="flex gap-6 items-start p-8 bg-white/5 border border-white/10 rounded-3xl text-left">
                   <Radar className="text-emerald-400 shrink-0" size={36} />
                   <p className="text-emerald-50/90 leading-relaxed font-medium text-lg">
                     고교학점제라는 **'선택의 바다'**에서 가장 안전하고 빠른 항로를 찾아주는 **'첨단 기상 레이더'**가 되어드립니다.
                   </p>
                 </div>
              </div>

              <div className="flex flex-col lg:flex-row items-center justify-between gap-12 pt-16 border-t border-white/10">
                <BrainTouchLogo isLight={true} />
                <button onClick={handleApplyClick} className="w-full lg:w-auto bg-emerald-500 hover:bg-emerald-400 text-emerald-950 font-black py-8 px-20 rounded-full transition-all shadow-xl text-3xl flex items-center justify-center gap-5 active:scale-95 hover:shadow-emerald-500/30">
                  무료사용 신청 <ChevronRight size={40} />
                </button>
              </div>
            </div>
          </div>
        </div>
      </section>

      {/* Footer */}
      <footer className="py-28 text-center border-t border-slate-200 bg-white">
        <div className="flex justify-center mb-12 opacity-30 grayscale scale-110"><BrainTouchLogo /></div>
        <p className="text-slate-400 font-black text-base px-6 tracking-tight">
          &copy; {new Date().getFullYear()} BRAIN TOUCH. All rights reserved.<br/>
          본 서비스는 AI 분석 엔진과 공시된 전국 성적 데이터를 기반으로 최적의 진학 전략을 제시합니다.
        </p>
      </footer>
    </div>
  );
};

export default App;
